<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="icon" type="image/png" href="img/favicon.ico" />
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma-calendar@6.1.17/dist/css/bulma-calendar.min.css">
      <script src="https://cdn.jsdelivr.net/npm/bulma-calendar@6.1.17/dist/js/bulma-calendar.min.js" crossorigin="anonymous"></script>
      <script src="https://kit.fontawesome.com/f4a0e6453b.js" crossorigin="anonymous"></script>
      <title>Meeting Scheduler</title>
      <style>
          .column.is-centered {
              display: flex;
              justify-content: center;
          }

          .my-hero-fullheight {
            height: calc(100vh - 72px)
          }

          .my-hero-fullheight-padded-top {
            height: calc(100vh - 108px)
          }

          .hero-body.is-vcentered {
              display: flex;
              flex-wrap: wrap;
              align-content: center;
          }

          #hero-section {
              border-radius: 6px;
          }

          iframe {
              width: 100%;
              height: 100%;
          }
      </style>
  </head>
  <body>
    <div id="header-box" class="columns is-centered is-primary has-background-primary mt-0">
        <div class="column is-3 is-centered py-0"></div>
        <div class="column is-centered py-1">
            <h1 id='main-title' class="title">Meeting Scheduler</h1>
        </div>
        <div class="column is-3 is-centered py-0"></div>
    </div>
    <section id="hero-section" class="hero my-hero-fullheight">
        <div class="columns is-mobile is-centered pt-5 mb-0">
            <div class="column is-narrow py-0">
                <div id="main-notification" class="notification has-text-centered" style="visibility: hidden;">
                </div>
            </div>
        </div>
        <div id="hero-content" class="hero-body has-text-centered is-vcentered pt-0">
            <div id="main-div" class="container pb-6" style="">
                <div class="columns is-mobile is-centered">
                    <div class="column is-narrow py-0">
                        <input id="my-calendar" class="my-calendar" type="date" data-close-on-select="true"/>
                        <div class="select mt-1">
                            <select id="duration">
                              <option value="15">Duration (minutes)</option>
                              <option value="15">15 (default)</option>
                              <option>30</option>
                              <option>45</option>
                              <option>60</option>
                              <option>75</option>
                              <option>90</option>
                              <option>120</option>
                              <option>180</option>
                            </select>
                        </div>
                        <button id="create" class="button is-rounded mt-1">
                            <span class="pb-1">Create</span>
                        </button>
                    </div>
                </div>
                <div id="meeting-buttons" style="visibility: hidden;">
                    <div id="host-join-buttons" class="columns is-mobile is-centered">
                        <div class="column is-narrow pb-0">
                            <button id="host-copy" class="button is-rounded mr-2">
                                <span class="pb-1">Copy Host Link</span>
                                <span class="icon">
                                    <i class="far fa-copy"></i>
                                </span>
                            </button>
                            <button id="host-join" class="button is-rounded">
                                <span class="pb-1">Join as Host</span>
                                <span class="icon">
                                    <i class="fas fa-right-to-bracket"></i>
                                </span>
                            </button>
                        </div>
                    </div>
                    <div id="guest-join-buttons" class="columns is-mobile is-centered">
                        <div class="column is-narrow pb-0">
                            <button id="guest-copy" class="button is-rounded mr-2">
                                <span class="pb-1">Copy Guest Link</span>
                                <span class="icon">
                                    <i class="far fa-copy"></i>
                                </span>
                            </button>
                            <button id="guest-join" class="button is-rounded">
                                <span class="pb-1">Join as Guest</span>
                                <span class="icon">
                                    <i class="fas fa-right-to-bracket"></i>
                                </span>
                            </button>
                        </div>
                    </div>
                    <div id="meeting-codes" class="columns is-mobile is-centered">
                        <div class="column is-narrow pb-0">
                            <div>
                                <span class="pb-1">Host Code:</span>
                                <span id="host-code" class="pb-1"></span>
                            </div>
                            <div>
                                <span class="pb-1">Guest Code:</span>
                                <span id="guest-code" class="pb-1"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
  </body>
  <script src="js/jquery-3.4.1.min.js"></script>
  <script type="text/javascript">

    let today = new Date();
    let todayDate = `${today.getMonth() + 1}/${today.getDate()}/${today.getFullYear()}`;
    var calendars = new bulmaCalendar('.my-calendar', {
        type: 'datetime',
        dateFormat: 'MM/dd/yyyy', 
        timeFormat: 'HH:mm',
        startDate: todayDate,
        startTime: today.toTimeString().substr(0,5),
        validateLabel: "Save"
    });

    calendars.on('hide', function(e){
        calendars.save();
    });

  </script>
  <script src="js/index.js"></script>
</html>